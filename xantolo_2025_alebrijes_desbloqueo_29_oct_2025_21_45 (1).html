<!DOCTYPE html>
<html lang="es" data-theme="dark">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Xantolo 2025 · Alebrijes · Desbloqueo 29/10/2025 22:45</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Cinzel+Decorative:wght@400;700&family=Montserrat:wght@300;400;600;800&family=Courgette&display=swap" rel="stylesheet">
  <style>
    :root{
      --bg1:#14051a; /* noche púrpura */
      --bg2:#210b2e;
      --accent1:#ff7a00; /* cempasúchil */
      --accent2:#9b4dff; /* violeta alebrije */
      --accent3:#00d1b2; /* turquesa */
      --bone:#f5f2e9; /* hueso */
      --magenta:#ff2e82;
      --lime:#c7f871;
      --shadow: 0 10px 30px rgba(0,0,0,.45);
    }
    *{box-sizing:border-box}
    body{
      margin:0; min-height:100vh; color:var(--bone);
      background:
        radial-gradient(1200px 600px at 10% -10%, rgba(255,122,0,.08), transparent 60%),
        radial-gradient(1000px 800px at 90% 110%, rgba(155,77,255,.10), transparent 60%),
        linear-gradient(180deg,var(--bg1),var(--bg2));
      font-family:'Montserrat', system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, 'Apple Color Emoji', 'Segoe UI Emoji';
      overflow-x:hidden;
    }
    .papel{ position:fixed; inset:0 auto auto 0; width:100%; height:120px; z-index:10; pointer-events:none;
      background: repeating-linear-gradient(90deg, transparent 0 80px, rgba(255,255,255,.06) 80px 82px),
                  linear-gradient(180deg, rgba(255,122,0,.85), rgba(255,46,130,.85));
      clip-path: polygon(0 0,100% 0,100% 70%,95% 85%,90% 70%,85% 85%,80% 70%,75% 85%,70% 70%,65% 85%,60% 70%,55% 85%,50% 70%,45% 85%,40% 70%,35% 85%,30% 70%,25% 85%,20% 70%,15% 85%,10% 70%,5% 85%,0 70%);
      box-shadow: var(--shadow);
    }
    header{ text-align:center; padding-top:140px; padding-bottom:20px }
    .title{ font-family:'Cinzel Decorative', serif; font-weight:700; letter-spacing:1.5px; font-size:clamp(28px,5vw,56px); text-shadow:0 2px 0 #000, 0 0 40px rgba(255,122,0,.25) }
    .subtitle{ font-family:'Courgette', cursive; font-size:clamp(16px,3vw,26px); color:rgba(255,255,255,.85) }
    .alebrije{ position:fixed; z-index:0; filter: drop-shadow(0 12px 24px rgba(0,0,0,.35)); opacity:.7 }
    .al-left{ left:-80px; bottom:0; width:min(42vw,520px); transform:rotate(-2deg)}
    .al-right{ right:-40px; top:10vh; width:min(32vw,420px); transform:rotate(8deg)}
    .gate{ position:relative; z-index:5; max-width:980px; margin:0 auto; padding:24px }
    .card{ border:1px solid rgba(255,255,255,.12); background:rgba(20,5,26,.6); backdrop-filter: blur(6px); border-radius:24px; padding:28px; box-shadow: var(--shadow) }
    .countdown{ display:grid; grid-template-columns: repeat(4, minmax(70px,1fr)); gap:14px; margin:22px auto; max-width:760px }
    .unit{ background:linear-gradient(180deg, rgba(155,77,255,.18), rgba(255,122,0,.14)); border:1px solid rgba(255,255,255,.14); border-radius:18px; padding:16px 12px; text-align:center }
    .num{ font-size: clamp(28px, 6vw, 64px); font-weight:800; line-height:1 }
    .lab{ opacity:.9; letter-spacing:.12em; font-weight:600; font-size:12px; text-transform:uppercase }
    .content{ display:none; position:relative; z-index:3; max-width:980px; margin:22px auto 80px; padding:24px }
    .panel{ background: radial-gradient(1000px 400px at 50% -10%, rgba(199,248,113,.05), rgba(255,46,130,.05) 60%), rgba(20,5,26,.55); border: 1px solid rgba(255,255,255,.14); border-radius:24px; padding:28px; box-shadow: var(--shadow) }
    .panel h2{ margin:0 0 10px 0; font-family:'Cinzel Decorative', serif; font-weight:700 }
    .note{ background: rgba(255,255,255,.06); border:1px dashed rgba(255,255,255,.25); padding:12px 14px; border-radius:12px; font-size:14px }
    pre.lyrics{ white-space:pre-wrap; font-family:"Courgette", cursive; font-size:clamp(16px,2.6vw,22px); line-height:1.6; color:var(--bone); margin:18px 0 0 0 }
    footer{ text-align:center; color:rgba(255,255,255,.7); padding:30px 10px 60px }
    .flores{ position:fixed; inset:0; pointer-events:none; z-index:1 }
    .flor{ position:absolute; width:20px; height:20px; border-radius:50%; background:radial-gradient(circle at 30% 30%, #ffe38f, #ff7a00 60%, #c44f00 100%); animation: flotar linear infinite; opacity:.8 }
    @keyframes flotar{ from{ transform:translateY(0) rotate(0)} to{ transform:translateY(-120vh) rotate(360deg)} }
    .reveal{ animation: fadeInUp .9s ease-out both }
    @keyframes fadeInUp{ from{ opacity:0; transform:translateY(12px)} to{ opacity:1; transform:translateY(0)} }
    .tz-hint{ font-size:12px; opacity:.8 }
    @media (max-width:560px){ .countdown{ grid-template-columns: repeat(2, 1fr) } .al-left{ width:70vw; left:-30vw } .al-right{ width:60vw; right:-20vw } }
  </style>
</head>
<body>
  <div class="papel" aria-hidden="true"></div>
  <svg class="alebrije al-left" viewBox="0 0 600 600" aria-hidden="true">
    <defs><linearGradient id="g1" x1="0" x2="1"><stop offset="0%" stop-color="#ff7a00"/><stop offset="50%" stop-color="#ff2e82"/><stop offset="100%" stop-color="#9b4dff"/></linearGradient></defs>
    <path fill="url(#g1)" d="M130,500 C60,470 40,400 80,360 C120,320 210,340 240,280 C270,220 210,190 220,140 C230,90 300,70 350,110 C400,150 410,220 450,240 C490,260 550,230 560,270 C570,310 520,360 470,390 C420,420 370,430 330,470 C290,510 200,530 130,500 Z"/>
    <circle cx="250" cy="250" r="18" fill="#c7f871"/><circle cx="246" cy="246" r="6" fill="#14051a"/>
    <path d="M330 470 Q 360 420 420 430 T 520 470" stroke="#c7f871" stroke-width="6" fill="none"/>
    <g fill="#00d1b2" opacity=".9"><circle cx="180" cy="330" r="8"/><circle cx="205" cy="350" r="5"/><circle cx="160" cy="360" r="6"/></g>
  </svg>
  <svg class="alebrije al-right" viewBox="0 0 600 600" aria-hidden="true">
    <defs><linearGradient id="g2" x1="0" x2="1"><stop offset="0%" stop-color="#c7f871"/><stop offset="50%" stop-color="#00d1b2"/><stop offset="100%" stop-color="#9b4dff"/></linearGradient></defs>
    <path fill="url(#g2)" d="M80,160 C140,120 220,120 260,150 C300,180 300,240 340,260 C380,280 460,260 500,300 C540,340 530,420 470,450 C410,480 320,460 260,470 C200,480 140,520 110,490 C80,460 100,400 120,360 C140,320 20,200 80,160 Z"/>
    <circle cx="420" cy="300" r="14" fill="#ff2e82"/><circle cx="416" cy="296" r="5" fill="#14051a"/>
    <path d="M120 360 Q 200 340 240 380 T 340 420" stroke="#ff7a00" stroke-width="6" fill="none"/>
  </svg>
  <div class="flores" aria-hidden="true" id="flores"></div>

  <header>
    <h1 class="title">Xantolo 2025 · Alebrijes</h1>
    <p class="subtitle">La página se abrirá al latir de las <strong>10:45 p. m.</strong> — <strong>29 de octubre de 2025</strong></p>
  </header>

  <main class="gate">
    <section id="lock" class="card" aria-live="polite" aria-atomic="true">
      <h2 style="margin:0 0 8px 0; font-family:'Cinzel Decorative', serif;">Cuenta regresiva</h2>
      <div class="tz-hint">Horario objetivo fijo: <strong>29/10/2025, 22:45</strong> (América/México_City)</div>
      <div class="countdown" role="timer" aria-describedby="targetLabel">
        <div class="unit"><div class="num" id="d">—</div><div class="lab">Días</div></div>
        <div class="unit"><div class="num" id="h">—</div><div class="lab">Horas</div></div>
        <div class="unit"><div class="num" id="m">—</div><div class="lab">Min</div></div>
        <div class="unit"><div class="num" id="s">—</div><div class="lab">Seg</div></div>
      </div>
      <p id="targetLabel" style="margin:0; opacity:.9">Cuando el contador llegue a cero, el contenido se desbloqueará automáticamente.</p>
      <div id="skewWarning" class="note" style="display:none; margin-top:10px"></div>
    </section>

    <section id="content" class="content">
      <div class="panel reveal">
        <h2>“El latido de mi corazón” — Letra</h2>
        <pre class="lyrics" id="lyrics" aria-label="Letra de la canción" aria-live="polite">
<!-- La letra se insertará automáticamente al finalizar el contador (22:45, CDMX) -->
</pre>
      </div>
    </section>
  </main>

  <footer>
    <small>Colegio Cristóbal Colón — Xantolo 2025</small>
  </footer>

  <script>
    (function(){
      const $ = (id)=>document.getElementById(id);
      const d=$('d'), h=$('h'), m=$('m'), s=$('s');
      const lock=$('lock');
      const content=$('content');
      const tz=$('tzname');
      if(tz){ tz.textContent = Intl.DateTimeFormat().resolvedOptions().timeZone || 'Zona horaria desconocida'; }

      // ====== CONFIGURACIÓN: Hora objetivo fija CDMX (UTC-06) ======
      // Objetivo: 29/oct/2025 20:14 (08:14 p. m.) América/México_City
      const target = new Date('2025-10-29T22:45:00-06:00');

      const warn = $('skewWarning');
      try{
        const now = new Date();
        if(now.getFullYear() < 2024){ warn.style.display='block'; warn.textContent = 'Tu reloj del sistema parece tener una fecha inusual. Si el contador no avanza, revisa la hora de tu dispositivo.' }
      }catch{}

      function update(){
        const now = new Date();
        let diff = target - now;
        if(diff <= 0){
          const letra = `Dirás que es raro\nLo que me pasó\nParece que anoche\nTe encontré en mis sueños\nLas palabras que dije\nSe volvieron canción\nVersos que tuyos son\nY el recuerdo nos dio\nUna melodía bella\nQue el alma tocó\nCon el ritmo que vibra\nEn nuestro interior\nAmor verdadero nos une por siempre\nEn el latido de mi corazón\nAmor verdadero nos une por siempre\nEn el latido de mi corazón\nAy, mi familia\nOiga mi gente\nCanten a coro nuestra canción\nAmor verdadero, nos une por siempre\nEn el latido de mi corazón\nAy, mi familia\nOiga mi gente\nCanten a coro nuestra canción\nAmor verdadero nos une por siempre\nEn el latido de mi corazón`;
          const lyr = $('lyrics');
          if(lyr) lyr.textContent = letra;

          lock.style.display='none';
          content.style.display='block';
          spawnConfetti();
          clearInterval(tick);
          return;
        }
        const sec = Math.floor(diff/1000);
        const days = Math.floor(sec/86400);
        const hours = Math.floor((sec%86400)/3600);
        const mins = Math.floor((sec%3600)/60);
        const secs = sec%60;
        d.textContent = String(days);
        h.textContent = String(hours).padStart(2,'0');
        m.textContent = String(mins).padStart(2,'0');
        s.textContent = String(secs).padStart(2,'0');
      }
      const tick = setInterval(update, 1000);
      update();

      // Flores animadas
      const florCtn = document.getElementById('flores');
      function nuevaFlor(){
        const e = document.createElement('div'); e.className='flor';
        const size = 12 + Math.random()*16; e.style.width=size+'px'; e.style.height=size+'px';
        e.style.left = Math.random()*100+'%';
        const dur = 10 + Math.random()*18; e.style.animationDuration = dur+'s';
        e.style.bottom = '-10vh';
        florCtn.appendChild(e);
        setTimeout(()=> e.remove(), dur*1000 + 2000);
      }
      setInterval(nuevaFlor, 900);
      for(let i=0;i<20;i++) setTimeout(nuevaFlor, i*200);

      function spawnConfetti(){ for(let i=0;i<80;i++) setTimeout(nuevaFlor, i*40) }
      
    })();
  </script>
</body>
</html>
